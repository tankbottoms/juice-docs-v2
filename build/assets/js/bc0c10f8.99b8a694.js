"use strict";(self.webpackChunkjuice_docs_v_2=self.webpackChunkjuice_docs_v_2||[]).push([[79632],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>d});var n=o(67294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(o),d=a,m=p["".concat(l,".").concat(d)]||p[d]||h[d]||r;return o?n.createElement(m,i(i({ref:t},c),{},{components:o})):n.createElement(m,i({ref:t},c))}));function d(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<r;u++)i[u]=o[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}p.displayName="MDXCreateElement"},27953:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var n=o(87462),a=(o(67294),o(3905));const r={slug:"constitutiondao-refund-brainstorm",title:"Potential ways to handle the ConstitutionDAO refund",authors:["jango"],tags:["observations","ecosystem"]},i=void 0,s={permalink:"/blog/constitutiondao-refund-brainstorm",editUrl:"https://github.com/jbx-protocol/juice-docs-v2/blob/main/blog/2021-11-19-constitutiondao-refund-brainstorm.md",source:"@site/blog/2021-11-19-constitutiondao-refund-brainstorm.md",title:"Potential ways to handle the ConstitutionDAO refund",description:"thoughts in progress. feedback always welcome. plz add to the conversation and let me know if i'm missing some context, it can be hard to keep up with it all.",date:"2021-11-19T00:00:00.000Z",formattedDate:"November 19, 2021",tags:[{label:"observations",permalink:"/blog/tags/observations"},{label:"ecosystem",permalink:"/blog/tags/ecosystem"}],readingTime:5.405,hasTruncateMarker:!1,authors:[{name:"Jango",title:"JuiceboxDAO Contributor",url:"https://twitter.com/me_jango",imageURL:"https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg",key:"jango"}],frontMatter:{slug:"constitutiondao-refund-brainstorm",title:"Potential ways to handle the ConstitutionDAO refund",authors:["jango"],tags:["observations","ecosystem"]},prevItem:{title:"Cross-layer Juicebox Protocol",permalink:"/blog/multi-layer-juicebox"},nextItem:{title:"Overflow: A mechanism to refund, ragequit, give cash-back, or offer realizable profits.",permalink:"/blog/overflow"}},l={authorsImageUrls:[void 0]},u=[{value:"Do it through Juicebox",id:"do-it-through-juicebox",level:3},{value:"Multisig manually sends refunds to those who want it",id:"multisig-manually-sends-refunds-to-those-who-want-it",level:3},{value:"Multisig deploys a Merkle Distributor airdrop",id:"multisig-deploys-a-merkle-distributor-airdrop",level:3}],c={toc:u};function h(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"thoughts in progress. feedback always welcome. plz add to the conversation and let me know if i'm missing some context, it can be hard to keep up with it all.")),(0,a.kt)("p",null,"ConstitutionDAO has reached some sort of a coordination moment. There are decisions to be made both technically and socially, and the PEOPLE will have their first opportunity to really use their voice."),(0,a.kt)("p",null,"Meanwhile us builders have another opportunity to evaluate and extend our current tooling to best support moments like this for people into the future."),(0,a.kt)("p",null,"Things we care about when considering refund design: speed, safety, cost, flexibility, convenience, (...?). "),(0,a.kt)("p",null,"In the case of ConstitutionDAO, the refund could be handled in a few different ways (there are definitely others that I don't know of or am less familiar with):"),(0,a.kt)("h3",{id:"do-it-through-juicebox"},"Do it through Juicebox"),(0,a.kt)("p",null,"Steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Inject the $40+ million back into the Juicebox contract."),(0,a.kt)("li",{parentName:"ol"},"Multisig sends a tx reconfiguring ConstitutionDAO's funding cycle target to 0, allowing all tokens to be redeemable for a proportional share of all funds in the treasury."),(0,a.kt)("li",{parentName:"ol"},"Everyone who wants to redeem their PEOPLE tokens can do so. All who wish to stay in and build out ConstitutionDAO can instead keep their PEOPLE tokens and leave their funds committed to the group."),(0,a.kt)("li",{parentName:"ol"},"The DAO eventually reassess what it wants out of itself, and who will serve on the multisig to continuing operating the treasury on the community's behalf. DAO can also reassess if it wishes to open up to new members and contributions, etc. In other words, DAO continues to do DAO shit. ")),(0,a.kt)("p",null,"Notes: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"-- I'd prefer if the Juicebox contracts were looked through by several more people before sticking $40+ mil in them. I personally trust them, but we need community trust and acknowledgement that this is risky experimental stuff. I would love to have the community's confidence in this decision. I'd love to do workshops over the next few days toward this end."),(0,a.kt)("li",{parentName:"ul"},"-- Every person claiming would have a gas fee to pay that would cost about the same as it costed them to contribute: $30-$60 bucks worth of ETH. This sucks especially for folks who contributed amounts around the same order of magnitude as the fee."),(0,a.kt)("li",{parentName:"ul"},"++ This would require minimal coordination, everyone can take whatever action they choose, whenever they choose to."),(0,a.kt)("li",{parentName:"ul"},"++ As the Juicebox process is being audited, the DAO could begin manually issuing refunds right away to people who send in their PEOPLE tokens to the multisig.")),(0,a.kt)("h3",{id:"multisig-manually-sends-refunds-to-those-who-want-it"},"Multisig manually sends refunds to those who want it"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"I saw versions of this idea from ",(0,a.kt)("a",{parentName:"em",href:"https://twitter.com/strangechances"},"@strangechances"),", ",(0,a.kt)("a",{parentName:"em",href:"https://twitter.com/DennisonBertram"},"@DennisonBertram"),", and "),"\n",(0,a.kt)("a",{parentName:"p",href:"https://twitter.com/austingriffith"},"@austingriffith"),(0,a.kt)("em",{parentName:"p"},".")),(0,a.kt)("p",null,"Steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"DAO reserves around $2 mil to pay for refund gas."),(0,a.kt)("li",{parentName:"ol"},"Take a snapshot. Everyone who had a balance of PEOPLE tokens at a particular block number would be eligible to request a refund at a rate of 1 ETH per 1,000,000 tokens. "),(0,a.kt)("li",{parentName:"ol"},"The multisig would send tx's to fulfill these requests, covering the gas using the amount reserved."),(0,a.kt)("li",{parentName:"ol"},"The remaining DAO has to reassess how it manages its tokens if it wants to continue to do DAO shit since PEOPLE tokens are no longer backed by ETH.")),(0,a.kt)("p",null,"Notes: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"-- multisig would have to coordinate around potentially thousands of payments."),(0,a.kt)("li",{parentName:"ul"},"-- it could take a bit for people to signal their request for a refund. The multisig would have a lot of double-checking and button-clicking to do upfront, and be on standby for a while."),(0,a.kt)("li",{parentName:"ul"},"-- the balances won't account for exchanges that happened after the snapshot."),(0,a.kt)("li",{parentName:"ul"},"++ The cost of gas will be distributed between everyone who stays around. They DAO could even retroactively subsidize the entry gas fee of anyone leaving by issuing refunds ~$60 more than what was contributed, assuming there is a sizable enough community who wants to hold on to their PEOPLE tokens."),(0,a.kt)("li",{parentName:"ul"},"++ People can have the option to request funds on a particular L2. The multisig can batch transfer its balance to each L2 accordingly and issue distributions from there.")),(0,a.kt)("h3",{id:"multisig-deploys-a-merkle-distributor-airdrop"},"Multisig deploys a Merkle Distributor airdrop"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Comment from ",(0,a.kt)("a",{parentName:"em",href:"https://twitter.com/nnnnicholas"},"@nnnnicholas"),". Disclosure: Nicholas is not a member-donor of ConstitutionDAO. It was also mentioned "),(0,a.kt)("a",{parentName:"p",href:"https://twitter.com/austingriffith"},"@austingriffith"),(0,a.kt)("em",{parentName:"p"},".")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"A version of this using Mirror Splits was proposed by ",(0,a.kt)("a",{parentName:"em",href:"https://twitter.com/strangechances/status/1461516965869076483"},"@strangechances")," who offered to help execute it.")),(0,a.kt)("p",null,"Steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},'Take a snapshot. Everyone who had a balance of PEOPLE tokens at a particular block number would be eligible to request a refund at a rate of 1 ETH per 1,000,000 tokens. This is called a "snapshot".'),(0,a.kt)("li",{parentName:"ol"},"Deploy Airdrop/Split contract and send it total funds."),(0,a.kt)("li",{parentName:"ol"},"Announce timeline for moving funds back to DAO treasury multisig to be claimed by those addresses captured in the snapshot."),(0,a.kt)("li",{parentName:"ol"},"The remaining DAO has to reassess how it manages its tokens if it wants to continue to do DAO shit since PEOPLE tokens are no longer backed by ETH.")),(0,a.kt)("p",null,"Notes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"-- This approach will still cost refunders a similar amount of gas to redeeming via Juicebox."),(0,a.kt)("li",{parentName:"ul"},"-- The PEOPLE tokens can no longer be used as a claim on the treasury, because people could then double-dip. PEOPLE tokens no longer function as normal Juicebox project tokens."),(0,a.kt)("li",{parentName:"ul"},"++ The primary advantages of the airdrop approach is that it can use all or mostly audited code, increasing security as compared to Juicebox's unaudited redemption mechanism. "),(0,a.kt)("li",{parentName:"ul"},"++ This approach reduces gas costs for the DAO (i.e., the people who do not want refunds) as compared to multisig paying gas to send all refunds directly."),(0,a.kt)("li",{parentName:"ul"},"++ The airdrop could be configured to allow redemptions on an L2, though this adds complexity. "),(0,a.kt)("li",{parentName:"ul"},"++ Allows contributors to retain their PEOPLE token but receive a refund.")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"... (pitch other ideas by listing steps and tradeoffs)")),(0,a.kt)("hr",null),(0,a.kt)("p",null,"General notes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Anyone whose contribution to ConstitutionDAO settled after the PEOPLE token distribution cutoff will be receiving a direct refund from the DAO."),(0,a.kt)("li",{parentName:"ul"},"The timing of the snapshot becomes very important in the scenarios that require one. Candidates include the time the Juicebox closed to new contributions, the moment the auction was lost, or some point in the future (i.e., pre-announced snapshot). \xa0"),(0,a.kt)("li",{parentName:"ul"},"Snapshots are captured using a Merkle tree that can be stored in an offchain database or IPFS as in ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/mirror-xyz/splits"},"Mirror's Split"),", which is based on Uniswap's UNI airdop ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/merkle-distributor"},"Merkle-Distributor"),", or emitted as an onchain event ",(0,a.kt)("a",{parentName:"li",href:"https://twitter.com/dievardump/status/1460516642040033285"},"stendhal-labs/collab-splitter"),". The latter would likely be expensive, but far less so than the DAO paying to distribute the refunds manually.")))}h.isMDXComponent=!0}}]);