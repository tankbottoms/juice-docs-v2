<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Juicebox Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Juicebox Docs Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Juicebox Docs JSON Feed">




<script src="https://energetic-unwavering.juicebox.money/script.js" defer="defer" data-site="UMYOVGDG"></script><title data-rh="true">Blog | Juicebox Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://info.juicebox.money/img/apple.png"><meta data-rh="true" name="twitter:image" content="https://info.juicebox.money/img/apple.png"><meta data-rh="true" property="og:url" content="https://info.juicebox.money/blog/page/6"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="0Jp7zERBL5i76DiM-bODvBGgbjuVMEQGSuwOchP_ZnE"><meta data-rh="true" property="og:title" content="Blog | Juicebox Docs"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://info.juicebox.money/blog/page/6"><link data-rh="true" rel="alternate" href="https://info.juicebox.money/blog/page/6" hreflang="en"><link data-rh="true" rel="alternate" href="https://info.juicebox.money/zh/blog/page/6" hreflang="zh"><link data-rh="true" rel="alternate" href="https://info.juicebox.money/blog/page/6" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7f3b6b29.css">
<link rel="preload" href="/assets/js/runtime~main.1ba0975d.js" as="script">
<link rel="preload" href="/assets/js/main.0aae736c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Juicebox Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Juicebox Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Juicebox</b></a><a class="navbar__item navbar__link" href="/">Docs</a><a class="navbar__item navbar__link" href="/user/">Project Creators</a><a class="navbar__item navbar__link" href="/dao/">Juicebox DAO</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/blog/page/6" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/zh/blog/page/6" target="_self" rel="noopener noreferrer" class="dropdown__link">中文</a></li></ul></div><a href="https://juicebox.money/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Juicebox<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Articles</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-07-18-sharkdao">SharkDAO, A Sub-DAO Raising Funds to Participate in the Nouns Ecosystem</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-07-14-lexicon-devils">Lexicon Devils, A Metaverse Architecture Guild Running on Juicebox</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/daolicious-tips-for-starting-your-first-dao">DAOlicious tips for starting your first DAO</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/great-web3-governance-at-a-glance">Great web3 governance at a glance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/how-a-treasury-can-make-or-break-your-dao">How a treasury can make or break your DAO</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-the-token-minting-powerhouse">Juicebox, the token minting powerhouse</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/the-power-of-token-minting-explained">The power of token minting explained</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-sage">Juicebox in the Words of Sage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-06-14-town-hall">2022-06-14 Town Hall Summary</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-johnnyd">Juicebox in the Words of johnnyd</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-06-07-town-hall">JuiceboxDAO Town Hall June 07, 2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-mieos">Juicebox in the Words of Mieos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-world-of-nicholas">Juicebox in the Words of nicholas</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-05-31-town-hall">2022-05-31 Town Hall Summary</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/a-day-in-the-life-of-wagmi-studios">A Day in the Life of Wagmi Studios</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-world-of-aeolian">Juicebox in the Words of aeolian</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/how-juicebox-for-nfts">HOW Juicebox for NFT Projects?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/why-juicebox-for-nfts">WHY Juicebox for NFT Projects?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-05-24-town-hall">2022-05-24 Town Hall Summary</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-0xstvg">Juicebox in the Words of 0xSTVG</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/17/recap-jb-town-hall">Recap: JB Town Hall 5-17-2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-05-17-town-hall">2022-05-17 Town Hall Summary</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-zeugh">Juicebox in the Words of Zeugh</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/questions-concerning-compensation">Questions Concerning Compensation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022-05-11-town-hall">2022-05-11 Town Hall Summary</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-drgorilla">Juicebox in the Words of DrGorilla</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/jb-members-conference-with-chinese-community-members">JB Members Conference with Chinese Community Members</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/where-are-they-now-filipv">Where Are They Now? With filipv</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-benefits-program-update">Juicebox Benefits Program Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-tankbottoms">Juicebox in the Words of tankbottoms</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/humor-all-too-humor">Humor, all too humor</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-twodam">Juicebox in the Words of twodam</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/fc18-updates">FC#18 Updates: v2 and Beyond</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-peri">Juicebox in the Words of peri</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-jango">Juicebox in the Words of jango</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-filipv">Juicebox in the Words of filipv</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-in-the-words-of-zom-bae">Juicebox in the Words of Zom_Bae</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/unbridled-creativity">Unbridled Creativity: The DAO experience through the lens of Cryptovoxels</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-benefits-program-explained">Juicebox Benefits Program Explained</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tips-on-starting-a-successful-juicebox-project">Tips on Starting a Successful Juicebox Project by Synth</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/year-of-the-dev">Year of the Dev</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-v1-1-change-log">Juicebox V1.1 Change log</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/reserved-rate-as-a-growth-tuning-mechanism">Reserved rate as a growth tuning mechanism</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/how-i-became-a-contributor-to-juicebox">How I became a contributor to Juicebox.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/state-of-jbx">Observations: State of JBX</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/dao-tooling-101">DAO Tooling 101</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-protocol-tokenomics">Juicebox protocol tokenomics</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/notice-juicebox-fundraise">NOTICE: Juicebox V1 inefficiencies</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/cross-layer-juicebox-pt-2">Cross-layer Juicebox protocol: follow up #1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/multi-layer-juicebox">Cross-layer Juicebox Protocol</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/constitutiondao-refund-brainstorm">Potential ways to handle the ConstitutionDAO refund</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/overflow">Overflow: A mechanism to refund, ragequit, give cash-back, or offer realizable profits.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/current-state-of-juiceboxdao-membership">Current state of JuiceboxDAO membership</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-observations-9-28-2021">Reserved tokens as a mechanism for effective token distribution</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/project-updates-9-21-2021">Project updates 9/21/2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/project-update">Project updates 9/7/2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-v2">JuiceboxV2 Protocol</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-funding-cycle-4-proposal">Juicebox: Project update and FC4 proposal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/adding-juicebox-treasury-tokens-to-amms">Juicebox V2: Protocol adjustments useful for adding treasury tokens to AMMs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-postmortem-of-low-severity-bug-discovered-8-18-2021">Juicebox postmortem: Low severity bug discovered 8/18/2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/funding-cycle-3-proposal">Juicebox: Funding Cycle #3 proposal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-funding-cycle-2-proposal">Juicebox: Funding Cycle #2 proposal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-observations-8-3-2021">Juicebox Observations 8/3/2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-roadmap-8-3-2021">JuiceboxDAO Roadmap 8/3/2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-governance">Juicebox Governance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/configuration-1-ballot">Configuration #1: Ballot</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/configuration-1-bonding-curve-rate-2">Configuration #1: Bonding Curve Rate</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/configuration-1-discount-rate">Configuration #1: Discount rate</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/is-juicebox-for-whales">Is Juicebox for Whales  🐋? Apes 🦧? Punks 👾? Creators 🎨? Devs ⌨️? Every Etherean 🇪🇹?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/configuration-1-reserved-jbx">Configuration #1: Reserved JBX</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/configuration-1-payouts">Configuration #1: Payouts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-dao-7-17-2021">Juicebox DAO 7/17/2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/premine">Premine</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/juicebox-deployed">Juicebox has been deployed</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/constitutiondao-refund-brainstorm">Potential ways to handle the ConstitutionDAO refund</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-19T00:00:00.000Z" itemprop="datePublished">November 19, 2021</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><em>thoughts in progress. feedback always welcome. plz add to the conversation and let me know if i&#x27;m missing some context, it can be hard to keep up with it all.</em></p><p>ConstitutionDAO has reached some sort of a coordination moment. There are decisions to be made both technically and socially, and the PEOPLE will have their first opportunity to really use their voice.</p><p>Meanwhile us builders have another opportunity to evaluate and extend our current tooling to best support moments like this for people into the future.</p><p>Things we care about when considering refund design: speed, safety, cost, flexibility, convenience, (...?). </p><p>In the case of ConstitutionDAO, the refund could be handled in a few different ways (there are definitely others that I don&#x27;t know of or am less familiar with):</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="do-it-through-juicebox">Do it through Juicebox<a class="hash-link" href="#do-it-through-juicebox" title="Direct link to heading">​</a></h3><p>Steps:</p><ol><li>Inject the $40+ million back into the Juicebox contract.</li><li>Multisig sends a tx reconfiguring ConstitutionDAO&#x27;s funding cycle target to 0, allowing all tokens to be redeemable for a proportional share of all funds in the treasury.</li><li>Everyone who wants to redeem their PEOPLE tokens can do so. All who wish to stay in and build out ConstitutionDAO can instead keep their PEOPLE tokens and leave their funds committed to the group.</li><li>The DAO eventually reassess what it wants out of itself, and who will serve on the multisig to continuing operating the treasury on the community&#x27;s behalf. DAO can also reassess if it wishes to open up to new members and contributions, etc. In other words, DAO continues to do DAO shit. </li></ol><p>Notes: </p><ul><li>-- I&#x27;d prefer if the Juicebox contracts were looked through by several more people before sticking $40+ mil in them. I personally trust them, but we need community trust and acknowledgement that this is risky experimental stuff. I would love to have the community&#x27;s confidence in this decision. I&#x27;d love to do workshops over the next few days toward this end.</li><li>-- Every person claiming would have a gas fee to pay that would cost about the same as it costed them to contribute: $30-$60 bucks worth of ETH. This sucks especially for folks who contributed amounts around the same order of magnitude as the fee.</li><li>++ This would require minimal coordination, everyone can take whatever action they choose, whenever they choose to.</li><li>++ As the Juicebox process is being audited, the DAO could begin manually issuing refunds right away to people who send in their PEOPLE tokens to the multisig.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multisig-manually-sends-refunds-to-those-who-want-it">Multisig manually sends refunds to those who want it<a class="hash-link" href="#multisig-manually-sends-refunds-to-those-who-want-it" title="Direct link to heading">​</a></h3><p><em>I saw versions of this idea from <a href="https://twitter.com/strangechances" target="_blank" rel="noopener noreferrer">@strangechances</a>, <a href="https://twitter.com/DennisonBertram" target="_blank" rel="noopener noreferrer">@DennisonBertram</a>, and </em>
<a href="https://twitter.com/austingriffith" target="_blank" rel="noopener noreferrer">@austingriffith</a><em>.</em></p><p>Steps:</p><ol><li>DAO reserves around $2 mil to pay for refund gas.</li><li>Take a snapshot. Everyone who had a balance of PEOPLE tokens at a particular block number would be eligible to request a refund at a rate of 1 ETH per 1,000,000 tokens. </li><li>The multisig would send tx&#x27;s to fulfill these requests, covering the gas using the amount reserved.</li><li>The remaining DAO has to reassess how it manages its tokens if it wants to continue to do DAO shit since PEOPLE tokens are no longer backed by ETH.</li></ol><p>Notes: </p><ul><li>-- multisig would have to coordinate around potentially thousands of payments.</li><li>-- it could take a bit for people to signal their request for a refund. The multisig would have a lot of double-checking and button-clicking to do upfront, and be on standby for a while.</li><li>-- the balances won&#x27;t account for exchanges that happened after the snapshot.</li><li>++ The cost of gas will be distributed between everyone who stays around. They DAO could even retroactively subsidize the entry gas fee of anyone leaving by issuing refunds ~$60 more than what was contributed, assuming there is a sizable enough community who wants to hold on to their PEOPLE tokens.</li><li>++ People can have the option to request funds on a particular L2. The multisig can batch transfer its balance to each L2 accordingly and issue distributions from there.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multisig-deploys-a-merkle-distributor-airdrop">Multisig deploys a Merkle Distributor airdrop<a class="hash-link" href="#multisig-deploys-a-merkle-distributor-airdrop" title="Direct link to heading">​</a></h3><p><em>Comment from <a href="https://twitter.com/nnnnicholas" target="_blank" rel="noopener noreferrer">@nnnnicholas</a>. Disclosure: Nicholas is not a member-donor of ConstitutionDAO. It was also mentioned </em><a href="https://twitter.com/austingriffith" target="_blank" rel="noopener noreferrer">@austingriffith</a><em>.</em></p><p><em>A version of this using Mirror Splits was proposed by <a href="https://twitter.com/strangechances/status/1461516965869076483" target="_blank" rel="noopener noreferrer">@strangechances</a> who offered to help execute it.</em></p><p>Steps:</p><ol><li>Take a snapshot. Everyone who had a balance of PEOPLE tokens at a particular block number would be eligible to request a refund at a rate of 1 ETH per 1,000,000 tokens. This is called a &quot;snapshot&quot;.</li><li>Deploy Airdrop/Split contract and send it total funds.</li><li>Announce timeline for moving funds back to DAO treasury multisig to be claimed by those addresses captured in the snapshot.</li><li>The remaining DAO has to reassess how it manages its tokens if it wants to continue to do DAO shit since PEOPLE tokens are no longer backed by ETH.</li></ol><p>Notes:</p><ul><li>-- This approach will still cost refunders a similar amount of gas to redeeming via Juicebox.</li><li>-- The PEOPLE tokens can no longer be used as a claim on the treasury, because people could then double-dip. PEOPLE tokens no longer function as normal Juicebox project tokens.</li><li>++ The primary advantages of the airdrop approach is that it can use all or mostly audited code, increasing security as compared to Juicebox&#x27;s unaudited redemption mechanism. </li><li>++ This approach reduces gas costs for the DAO (i.e., the people who do not want refunds) as compared to multisig paying gas to send all refunds directly.</li><li>++ The airdrop could be configured to allow redemptions on an L2, though this adds complexity. </li><li>++ Allows contributors to retain their PEOPLE token but receive a refund.</li></ul><p><em>... (pitch other ideas by listing steps and tradeoffs)</em></p><hr><p>General notes:</p><ul><li>Anyone whose contribution to ConstitutionDAO settled after the PEOPLE token distribution cutoff will be receiving a direct refund from the DAO.</li><li>The timing of the snapshot becomes very important in the scenarios that require one. Candidates include the time the Juicebox closed to new contributions, the moment the auction was lost, or some point in the future (i.e., pre-announced snapshot).  </li><li>Snapshots are captured using a Merkle tree that can be stored in an offchain database or IPFS as in <a href="https://github.com/mirror-xyz/splits" target="_blank" rel="noopener noreferrer">Mirror&#x27;s Split</a>, which is based on Uniswap&#x27;s UNI airdop <a href="https://github.com/Uniswap/merkle-distributor" target="_blank" rel="noopener noreferrer">Merkle-Distributor</a>, or emitted as an onchain event <a href="https://twitter.com/dievardump/status/1460516642040033285" target="_blank" rel="noopener noreferrer">stendhal-labs/collab-splitter</a>. The latter would likely be expensive, but far less so than the DAO paying to distribute the refunds manually.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/observations">observations</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ecosystem">ecosystem</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/overflow">Overflow: A mechanism to refund, ragequit, give cash-back, or offer realizable profits.</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-16T00:00:00.000Z" itemprop="datePublished">November 16, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>A project&#x27;s overflowed funds in the Juicebox protocol can serve various purposes depending on the configuration choices the project makes. </p><p>A reminder, overflow is the amount of funds currently in a project&#x27;s Juicebox treasury minus its current funding cycle&#x27;s <code>target</code>, which specifies the amount allowed to be distributed from the treasury to preprogrammed addresses during the cycle. A project&#x27;s token holders can burn their tokens at any point to receive a proportional amount of the project&#x27;s overflow. This proportion can be affected by a <code>bondingCurve</code> also configured per funding cycle. A curve of 100% is a linear proportion.</p><p>Here are outlines of how a project&#x27;s funding cycles might be configured to use its overflow for achieving various treasury designs:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="refund">Refund<a class="hash-link" href="#refund" title="Direct link to heading">​</a></h3><p>Overflow can be used to give all contributors access to their money back in the case of an unsuccessful campaign. </p><p>In the case of ConstitutionDAO, the project&#x27;s first funding cycle is configured with a <code>target</code> of <code>uint256.max</code>, which allows free movement of any funds accumulated in Juicebox into preprogrammed addresses (the Gnosis multisig wallet). It is also set up with a <code>duration</code> of 0, which gives the project&#x27;s owner (also the Gnosis multisig wallet) authority to trigger a new reconfigured funding cycle at any point. All ETH contributed mints a proportional amount of the project&#x27;s tokens for the contributor.</p><p>The multisig could thus reconfigure the project to have a <code>target</code> of 0 and then inject all of its raised funds back into its Juicebox treasury, which would make all funds in the project considered overflow and therefor claimable by token holders. With the <code>bondingCurve</code> at 100%, each token holder could then burn their supply to receive the same amount of ETH they originally put in.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ragequit">Ragequit<a class="hash-link" href="#ragequit" title="Direct link to heading">​</a></h3><p>A project can use its overflow to allow disenchanted token holders to exit and take with them a portion of the treasury&#x27;s funds.</p><p>Only a project&#x27;s overflowed funds in Juicebox are available to be claimed by burning tokens. If a project&#x27;s funds are mostly kept in a multisig (or other contracts/assets), they cannot not be taken into account in the redemption value of a token (changing in V2). A project can thus tune the expected return of ragequitting by injecting liquid funds back into Juicebox, adjusting its <code>target</code> value, and loosing/tightening its bonding curve.</p><p>If a project is spending its raised funds at a faster rate than it is pulling in funds, or if the project&#x27;s rate of token distribution has changed over time, it&#x27;s likely ragequitting via the built in juicebox mechanism won&#x27;t yield the same amount as initially contributed.</p><p><em>Shouts to MolochDAO for coining the term &quot;ragequit&quot;.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cash-back">Cash-back<a class="hash-link" href="#cash-back" title="Direct link to heading">​</a></h3><p>A project that sells products can use its overflow to give customers the opportunity for cash-back. </p><p>TileDAO, for example, currently sells artwork for 0.16 ETH. When works are minted, the sale price is piped into the TileDAO treasury, minting the project&#x27;s tokens for the buyer in return. TileDAO might want to give its token holders incentive to hold these tokens by giving them utility, perhaps decision making weight in governance, otherwise holders might want to redeem them for some of the project&#x27;s treasury. This redemption would essentially give the buyer of the art some cash back, the value of which determined by several aspects of the project&#x27;s funding cycle choices over time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="realizable-profits">Realizable profits<a class="hash-link" href="#realizable-profits" title="Direct link to heading">​</a></h3><p>A project can inject funds into its treasury from arbitrary sources, giving all token holders access to them by burning tokens. </p><p>The simplest example here would be a project that gathers funds via a Juicebox project to purchase a thing, then turns around and sells the thing for more than what it paid. The funds from the sale can then be injected back into the Juicebox project for token holders to claim if they choose to do so.</p><hr><p>Consistent through all of these examples are consequential choices that a project can make to offer its community particular treasury designs over time. The address that controls the NFT representing a Juicebox project has the power to make these choices. Whichever EOA or contract stewarding this responsibility on a community&#x27;s behalf should be scrutinized and held accountable to the extent each community sees fit. </p><p>Hopefully what these examples make clear is that the tokens issued by projects using the Juicebox protocol have no intrinsic value. They can, however, be used by projects as a utility for making decisions, the outcomes of which can give them value. It all depends on the choices we make together over time, and the social and algorithmic contracts we use to make these choices binding.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/guide">guide</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/current-state-of-juiceboxdao-membership">Current state of JuiceboxDAO membership</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-11T00:00:00.000Z" itemprop="datePublished">November 11, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>JBX membership is currently represented by <strong>602,065,173</strong> tokens:</p><p><strong>Jango</strong> has <strong>118,891,959</strong> (19.74%)
<strong>Peri</strong> has <strong>100,255,206</strong> (16.65%)
<strong>DragonFly Capital</strong> has <strong>48,048,000</strong> (7.98%)
<strong>SharkDAO</strong> has <strong>30,063,667</strong> (4.99%)
<strong>JuiceboxDAO</strong> has <strong>27,827,807</strong> (4.62%)
<strong>4</strong> addresses each have around <strong>18,500,000</strong> (3%)
<strong>13</strong> addresses have between <strong>5,000,000 - 15,000,000</strong> (1-3%)
<strong>7</strong> addresses have between <strong>2,500,000 - 5,000,000</strong> (0.5-1%)
<strong>28</strong> addresses have between <strong>500,000 - 5,000,000</strong> (0.1-0.5%)
<strong>64</strong> addresses have between <strong>100,000 - 500,000</strong> (0.01-0.1%)
<strong>56</strong> addresses have less than 0.01%</p><p>Membership has been given to those who have helped build the protocol and the DAO, and to those who have supported the efforts by sending ETH to the treasury, with a preference for those who helped in any capacity in earlier funding cycles. Membership has been open to all since the protocol was deployed.</p><p>Currently in Funding Cycle #8, each 10 ETH contributed to the treasury by new or existing members mints the following amounts of JBX:</p><p><strong>2,579,260</strong> for the contributing member</p><p><strong>416,649</strong> for <strong>JuiceboxDAO</strong>
<strong>333,319</strong> for <strong>Peri</strong>
<strong>333,319</strong> for <strong>Jango</strong>
<strong>97,218</strong> for <strong>Nicholas</strong>
<strong>97,218</strong> for <strong>Exekias</strong>
<strong>55,553</strong> for <strong>WAGMI Studios</strong>
<strong>55,553</strong> for <strong>CanuDAO</strong></p><p>Today, it would take a contribution of <strong>278</strong> ETH for the contributing member to get 10% of the total membership tokens.</p><p>Two months ago in funding cycle #4, each 10 ETH contributed to the treasury minted <strong>3,931,200</strong> JBX for the member.</p><p>The total amount of JBX issued to members per ETH accepted is decreasing by 10% every 2 weeks. At this current rate with 2 week funding cycles and 35% reserved, in funding cycle #12 each 10 ETH contributed to the treasury will only mint <strong>1,692,252</strong> JBX for the contributor.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="observations">Observations<a class="hash-link" href="#observations" title="Direct link to heading">​</a></h3><ul><li>Builders and contributors don&#x27;t know what they&#x27;re getting when they contribute ETH or are receivers of reserved tokens.</li><li>Membership is getting expensive. </li><li>JBDAOs strategy thus far has been to focus on building in the open, while making clear upfront the resources it needs to be able to build effectively.</li><li>No one in JBDAO has produced much work proposing how we might make membership more accessible to people or distribute it more widely, or why that might be worth prioritizing. Most of what is discussed is about how to solve problems for juicebox projects and for builders who want to come in and improve/grow the ecosystem. </li><li>The way JBDAO is using its 35% reserved rate ensures about 25% of any membership expansion the DAO makes goes to builders who are currently stewarding projects. If the DAO isn&#x27;t growing its treasury, committed builders don&#x27;t become substantial members. The remaining 10% go to JBDAO itself, which it hasn&#x27;t done anything with yet.</li><li>The DAO&#x27;s casual builders and helpers currently don&#x27;t have a way to become members other than to make a contribution to the DAO of any amount.</li><li>It might be interesting for the DAO to tapper off its discount rate so that over time, members who consider joining are represented and feel welcome.</li><li>It might be interesting for the DAO to allocate all of a 35% reserved rate to itself so it can hand out some non-insignificant starter membership amounts to more people who are helping out casually, and to people who are currently cranking out tasks and getting to know the system but don&#x27;t yet plan on sticking around for too long. The DAO could also give membership to other builders around web3 who might be creative and thoughtful voices to have in the room when determining how the DAO could allocate its treasury.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-questions">Open questions<a class="hash-link" href="#open-questions" title="Direct link to heading">​</a></h3><ul><li>How might the DAO distribute its allocation of JBX effectively to add more great members now and into the future?</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/observations">observations</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/dao">dao</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/juicebox-observations-9-28-2021">Reserved tokens as a mechanism for effective token distribution</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-28T00:00:00.000Z" itemprop="datePublished">September 28, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>As funds are contributed to the JuiceboxDAO treasury – either as direct payments or as fees paid – JBX is minted and distributed. Currently, 35% of these are reserved and allocated to preprogrammed addresses while the remaining 65% are sent to the contributor of the payment. </p><p>The current distribution of reserved tokens for JuiceboxDAO is as follows:
<img loading="lazy" src="/assets/images/image-5-891bec90adcfd3d96bf1ba8a6626d9a9.png" width="1084" height="672" class="img_ev3q">
There is no cap to how many JBX are minted into existence: as more ETH is contributed, more JBX is created, albeit at a slightly decreasing rate over time due to the discount rate (currently 10% fewer JBX minted per ETH every 2 weeks). With each payment, the pie being shared grows while everyone&#x27;s share of the pie slightly shrinks.</p><p>... except for those on the reserved tokens list. At any given moment, their overall JBX positions tend towards the percent of reserved tokens they&#x27;re programmed to receive, at the rate of the treasury&#x27;s growth. This also means that currently 35% of the DAO&#x27;s value tends to concentrate between the reserved token holders, with the remaining 65% going to a long-tail distribution between those who chipped in or paid fees to the treasury over time, favoring those who did so soonest. </p><p>JuiceboxDAO&#x27;s reserved tokens have thus far been mostly allocated to those few contributors shouldering operational responsibilities to the DAO. Recently the DAO also began reserving tokens for the DAO&#x27;s multi-sig in order to redistribute to LP staking rewards and other programs. </p><p>Going forward, the DAO&#x27;s greatest opportunity to coordinate incentives among its community will likely come through expanding the reserved pool to include many new members and campaigns with proven commitments to its success, as well as smaller scoped experimental distributions.</p><p>With a few basic guardrails and guidances in place such as those outlined in the <a href="https://juiceboxdao.notion.site/Governance-f0ff06c503914500acb9bd646cc4ed65" target="_blank" rel="noopener noreferrer">DAO&#x27;s governance documents</a>, the DAO should be set up to fairly and efficiently welcome in meaningful contributors, while shedding those who are no longer participating or useful. This process should spread the value the DAO creates to the people actively furthering the project&#x27;s mission statement, and to the projects building on the protocol who are paying fees over time.</p><p>I&#x27;m very eager to see more reserved token allocation <a href="https://juiceboxdao.notion.site/Governance-f0ff06c503914500acb9bd646cc4ed65" target="_blank" rel="noopener noreferrer">proposals</a> over the next several months, and for the number of reserved token receivers to grow substantially.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aside">Aside<a class="hash-link" href="#aside" title="Direct link to heading">​</a></h3><p>The reserved rate also makes a 51% takeover very expensive. JuiceboxDAO currently has a total supply of 577,516,558 JBX tokens. Each ETH contributed mints another 544,320 JBX (353,808 to the payer, 190,512 to the reserved pool). In order for someone to mint 51% of tokens for themselves today, they would have to dump 3,865 ETH into the treasury. This will just get more expensive as time goes on since the total supply will increase over time as the number of tokens minted per ETH contributed decreases.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/observations">observations</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/project-updates-9-21-2021">Project updates 9/21/2021</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-25T00:00:00.000Z" itemprop="datePublished">September 25, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/peripheralist" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1363876191938183170/DixgVLiq_400x400.jpg" alt="Peripheralist"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/peripheralist" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Peripheralist</span></a></div><small class="avatar__subtitle" itemprop="description">Peel Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/odd_amphora" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1456250808396394501/Wmx55_MC_400x400.jpg" alt="exekias"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/odd_amphora" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">exekias</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/nnnnicholas" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1480761142880448512/CkG1f6j1_400x400.png" alt="nnnnicholas"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/nnnnicholas" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">nnnnicholas</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/elliot_paschal" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1502886383177945089/2PaPZi6q_400x400.jpg" alt="9birdy9"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/elliot_paschal" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">9birdy9</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/ZeughFromCanu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1509253123675668496/Uhl5hsph_400x400.jpg" alt="Zeugh"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/ZeughFromCanu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Zeugh</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/natimuril" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1470785381629050885/vpN2eXTD_400x400.jpg" alt="natimuril"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/natimuril" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">natimuril</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Last update: <a href="https://juicebox.ghost.io/ghost/#/editor/post/6137d34c913014003b92220f" target="_blank" rel="noopener noreferrer">9/07/2021</a></p><p><strong>Current focus areas are:</strong></p><ul><li>Risk mitigation</li><li>Protocol upgrades</li><li>Web experience</li><li>Analytics</li><li>DAO relations</li><li>Liquidity pools</li><li>NFT marketplace</li><li>Governance</li><li>Materials</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="focus-areas">Focus areas<a class="hash-link" href="#focus-areas" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="risk-mitigation">Risk mitigation<a class="hash-link" href="#risk-mitigation" title="Direct link to heading">​</a></h3><p><em>Goal: Make sure things don&#x27;t go to zero.</em></p><p><em>Current team: jango (lead), exekias, peri.</em></p><p><strong>Updates:</strong></p><ul><li>nothing to report.</li></ul><p><strong>Help needed:</strong></p><ul><li>Reviewing V2 docs and tests.</li><li>Bug bounties now included in the V2 documentation that&#x27;s underway.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="protocol-updates">Protocol Updates<a class="hash-link" href="#protocol-updates" title="Direct link to heading">​</a></h3><p><em>Goal: Evolve the protocol to be more useful.</em></p><p>C<em>urrent team: jango (lead), peri, exekias, nicholas</em></p><p><strong>Updates:</strong></p><ul><li>Progress on documentation. JBSplitStore, JBOperatorStore, JBPrices, and JBProjects are fully documented. See Protocol section of <a href="http://docs.juicebox.money" target="_blank" rel="noopener noreferrer">docs.juicebox.money</a>.</li><li>Bug bounties now included in the V2 documentation</li></ul><p><strong>Help needed:</strong></p><ul><li>More eyes on the docs</li><li>Pursue leads for solidity audits in next 4-6 weeks</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-experience">Web experience<a class="hash-link" href="#web-experience" title="Direct link to heading">​</a></h3><p><em>Goal: Improve the Juicebox experience both for people starting communities and for communities that are growing.</em></p><p><em>Current team: peri (lead), jango, exekias</em></p><p><strong>Updates:</strong></p><ul><li>Added feature for JB Project owners to update assets listed in the Project UI</li><li>will eventually support 721 assets, too</li><li>&#x27;Pay&#x27; button Call to Action can now be customized</li><li>Rinkeby support</li><li>JB Interface now has its own dedicated repo and issue tracking <a href="https://github.com/jbx-protocol/juice-interface/issues" target="_blank" rel="noopener noreferrer">https://github.com/jbx-protocol/juice-interface</a></li></ul><p><strong>Help needed:</strong></p><ul><li>Backlog of todos <a href="https://github.com/jbx-protocol/juice-interface/issues" target="_blank" rel="noopener noreferrer">https://github.com/jbx-protocol/juice-interface/issues</a></li><li>Would love to bring on a dedicated person to get familiar with the UI codebase</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="analytics">Analytics<a class="hash-link" href="#analytics" title="Direct link to heading">​</a></h3><p><em>Goal: Give projects rich insights into their community treasury.</em></p><p><em>Current team: peri (lead)</em></p><p><strong>Updates:</strong></p><p>Contribution pipeline being refined. Subgraph now has a dedicated repo with a streamlined deployment flow.</p><p>Analytics roadmap being refined as steps for V2 migration become clearer.</p><p><a href="https://www.notion.so/Subgraph-Deep-Dive-6b86d378be274b54b66c20296ab2972f" target="_blank" rel="noopener noreferrer">Subgraph Deep Dive</a></p><p><strong>Help needed:</strong></p><ul><li>Work/todos being tracked here <a href="https://github.com/jbx-protocol/juice-subgraph/issues" target="_blank" rel="noopener noreferrer">https://github.com/jbx-protocol/juice-subgraph/issues</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dao-relations">DAO relations<a class="hash-link" href="#dao-relations" title="Direct link to heading">​</a></h3><p><em>Goal: Work towards making sure JB projects and the JB community have the resources and attention they need to get started and thrive.</em></p><p><em>Current team: nati (lead), zeugh, mieos, nicholas, jango </em></p><p><strong>Updates:</strong></p><ul><li>Jango and others converting people from DMs into discord members.</li><li>Lots of people coming into the DAO relations channel.</li><li>Pencil DAO created without any interaction with team. BrainDAO and others coming online.</li><li>Idea: Daoification Hackathon to help JuiceboxDAO members feel more comfortable onboarding others.</li><li>Meeting with largest single contributor: <a href="https://www.notion.so/Conversation-with-Tom-Schmidt-of-Dragonfly-Capital-53b035362051432286200e7d7dd4ec0c" target="_blank" rel="noopener noreferrer">Conversation with Tom Schmidt of Dragonfly Capital</a></li><li>Lots of progress in Notion: Tools section, How to section.</li><li>Meeting notes becoming standardized and recordings much more frequent</li><li>Gitbook docs welcome page and contract addresses added.</li><li>Zeugh bought Sesh pro.</li></ul><p><strong>Help needed:</strong></p><ul><li>Project lead on Daoification hackathon where anyone can join in and create a bunch of projects on rinkeby to be more comfortable configuring and reconfiguring a JB.</li><li>Project lead needed to design and implement faster easier way to create &quot;a DAO for your group chat&quot;. Can this be done with a Discord bot?Help Needed</li><li>Feedback to Zeugh for discord restructuring.</li><li>Adding info to Tools.</li><li>More people willing to record calls and upload.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="liquidity-pools">Liquidity pools<a class="hash-link" href="#liquidity-pools" title="Direct link to heading">​</a></h3><p><em>Goal: Add support for JB treasury tokens in secondary markets for communities to be able to value their assets better.</em></p><p><em>Current team: exekias (lead), jango</em></p><p><strong>Updates:</strong></p><ul><li>No updates. Core dev team is focusing on V2 for the time being.</li><li>Might be a good move to fork the <a href="https://github.com/BarnBridge/BarnBridge-YieldFarmContinuous" target="_blank" rel="noopener noreferrer">BarnBridge rewards contracts</a> instead of the synthetix ones. </li></ul><p><strong>Help needed:</strong></p><ul><li>Someone to help test, verify, and deploy the staking contracts.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nft-marketplace">NFT Marketplace<a class="hash-link" href="#nft-marketplace" title="Direct link to heading">​</a></h3><p><em>Goal: Give JB projects a place to sell digital (and eventually physical) goods which pipe percentages of revenue to any number of addresses or Juicebox treasuries.</em></p><p><em>Current team: nicholas (lead), jango, peri</em></p><p><strong>Updates:</strong></p><ul><li>Looped in Peri and Mieios for <a href="https://juiceboxdao.notion.site/Specification-bf833fd203154476b998345514c668c9" target="_blank" rel="noopener noreferrer">NFTMKT specification</a> feedback <a href="https://juiceboxdao.notion.site/NFTMKT-notes-eb85402754fa4abc9652a6ab2e423200" target="_blank" rel="noopener noreferrer">meeting</a>. </li><li>Reprioritized NFTMKT, JB devs will do a sprint this coming week, Sept 27, 2021 </li><li>Nailed down V1 spec with Peri&#x27;s help. Updated architecture, replacing <code>submit</code> with <code>list</code> function, which will save on gas.</li><li>Reaffirmed permisionless design of NFTMKT and v2+ roadmap. </li><li>We will also stand up a couple 721 Creator contracts so artists collaborating with JB projects (e.g., Numo with Sharkdao) can create superior NFTs than on the OpenSea creator contract, which is closed source, centrally hosted metadata by default, and a shared contract. We anticipate one 721 contract for closed collections (where token supply is known in advance) and one open minting collection (where artist can add over time). Nico already has a closed collection contract that we can refine. Can also build a simple front-end to make this easy for artist collaborators (and the broader NFT ecosystem). </li><li>We continue to experiment with ideas about spinning NFTMKT off into its own JB project because the opportunity is large, and we believe that small teams working on focused projects are more effective than one overwhelmingly large vertically integrated JB protocol team. Perhaps initially staffed by same dev team as JB. Can focus on NFTMKT and the creator contracts. Could collect a fee for NFTs sold through the marketplace (2.5% like opensea?) or could be free. If it had revenue it would have more opportunity to expand dev team. Also thinking about token-swaps between NFTMKT and JB 📈🤝. </li><li>Increasing belief that NFTMKT will solve the DEX vs JB dilemma facing DEX-traded DAO tokens, where the DEX is always a better price than the JB, by game-theoretic definition. This limits DAOs&#x27; ability to fundraise because DEX trades do not affect DAO treasuries. NFTMKT will allow DAOs like Shark to largely replace direct-to-JB appeals. DEX purchases may still offer cheaper DAO tokens than the NFTMKT, but buyers will not get access to limited edition NFTs via the DEXes. NFTMKT will also be more fun and easy to use for NFT acclimated, compared to JB or DEXes which are unfamiliar to many in that space.</li><li>The team is <em>very</em> excited about the promising design specification and roadmap for the NFTMKT.</li><li>Nicholas also discussed with Mieos affordances in the 721 contracts that will enable WAGMI to create NFTs on behalf of client DAOs. Achievable design requirements even within the V1 spec.</li></ul><p><strong>Help needed:</strong></p><ul><li>Review read methods &amp; TheGraph events with Exekias or Peri this coming week</li><li>Nico x Jango will collab to finalize v1 NFTMKT solidity </li><li>Nico to talk to Pencil DAO</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="governance">Governance<a class="hash-link" href="#governance" title="Direct link to heading">​</a></h3><p><em>Goal: Plan how we make decisions within the community. </em></p><p><em>Current team: 9birdy9 (lead), zheug, jango, unicornio</em></p><p><strong>Updates:</strong></p><ul><li>New voting process</li><li>Finalized proposal process</li><li>New governance process:</li></ul><p><a href="https://www.notion.so/Governance-f0ff06c503914500acb9bd646cc4ed65" target="_blank" rel="noopener noreferrer">Governance</a></p><p>Includes Proposal Templates for each common type of proposal.</p><p>All JBX holders participate in votes that affect big picture JBX variables.</p><p>Changes to recurring payouts are voted on by addresses currently receiving payouts as they have greatest insight and are most affected by such changes.</p><p>Changes to reserved token allocation voted on by addresses currently receiving reserved tokens as they are most affected.</p><p>Addresses receiving payouts are expected to vote.</p><ul><li>Discussion about whether large token holders and people on reserved list should have max voting capacity or some quadratic strategy that limits outsized impact.</li><li>First trial of these new templates in current governance process.</li><li>@9birdy9&#x27;s trial payout proposal is the first proposal sent to snapshot according to these forms.</li><li>FC5 reserved JBX tokens will be passed without a formal snapshot for lack of sufficient time to complete our governance snapshot process. We will use snapshots for future reserved token proposals.</li><li>Creation of BANNY gov participation incentivisation token — An airdrop is in the works. </li></ul><p><strong>Help needed:</strong></p><ul><li>Refining governance process:</li><li>Creating informational foundations to keep people up to date on governance proposals/timelines. </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="materials">Materials<a class="hash-link" href="#materials" title="Direct link to heading">​</a></h3><p><em>Goal: Vi</em>deos/visuals/memes/stuff that radiates Juicebox vibes.</p><p>C<em>urrent team: WAGMI studios</em></p><p><strong>Updates:</strong></p><ul><li>WAGMI producing cultural content</li><li>Published overflow video</li></ul><p><strong>Help needed:</strong></p><ul><li>Feedback on content</li><li>How can WAGMI help juicebox projects launch</li><li>Helping onboard</li><li>Developing visual identity (cultural material)</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/dao">dao</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/project-update">Project updates 9/7/2021</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-09T00:00:00.000Z" itemprop="datePublished">September 9, 2021</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/peripheralist" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1363876191938183170/DixgVLiq_400x400.jpg" alt="Peripheralist"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/peripheralist" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Peripheralist</span></a></div><small class="avatar__subtitle" itemprop="description">Peel Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/odd_amphora" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1456250808396394501/Wmx55_MC_400x400.jpg" alt="exekias"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/odd_amphora" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">exekias</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/natimuril" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1470785381629050885/vpN2eXTD_400x400.jpg" alt="natimuril"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/natimuril" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">natimuril</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/nnnnicholas" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1480761142880448512/CkG1f6j1_400x400.png" alt="nnnnicholas"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/nnnnicholas" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">nnnnicholas</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/ZeughFromCanu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1509253123675668496/Uhl5hsph_400x400.jpg" alt="Zeugh"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/ZeughFromCanu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Zeugh</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Co-authored: jango, peri, exekias, nati, nicholas, zeugh</p><p><strong>Current focus areas are:</strong></p><ul><li>Risk mitigation</li><li>Web experience</li><li>DAO relations</li><li>Analytics</li><li>Liquidity pools</li><li>NFT marketplace</li><li>Governance</li><li>Protocol upgrades</li><li>Materials</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="focus-areas">Focus areas<a class="hash-link" href="#focus-areas" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="risk-mitigation">Risk mitigation<a class="hash-link" href="#risk-mitigation" title="Direct link to heading">​</a></h3><p><em>Goal: Make sure things don&#x27;t go to zero.</em></p><p><em>Current team: jango (lead), exekias, peri.</em></p><p><strong>Updates:</strong></p><ul><li>No new bugs/problems discovered in the contracts. </li><li>New repo where security issues are documented <a href="https://github.com/jbx-protocol/juice-security" target="_blank" rel="noopener noreferrer">here</a>.</li><li>Wallet connection issues in the front end solved. One remaining bug where connecting wallet from the projects page sometimes causes the <code>beneficiary</code> field of payments.</li><li>DefiYield auditors seems to have dropped off. Need to follow up again.</li><li>Focus on security now moved to V2. Documentation, tests, audits, etc.</li></ul><p><strong>Help needed:</strong></p><ul><li>It&#x27;d be great if more folks could help write tests and review the code and documentation as it gets done. We should collaboratively mold this into its final, secure form.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-experience">Web experience<a class="hash-link" href="#web-experience" title="Direct link to heading">​</a></h3><p><em>Goal: Improve the Juicebox experience both for people starting communities and for communities that are growing.</em></p><p><em>Current team: peri (lead), jango, exekias</em></p><p><strong>Updates:</strong></p><ul><li>New analytics data in project dashboards. Still room to grow, more data sourced into The Graph and ready to use.</li></ul><p><img loading="lazy" src="/assets/images/image-4-4095956db0a04e08b51544f1452c0119.png" width="972" height="552" class="img_ev3q"></p><ul><li>New wallet connection integration. Can now connect with many other wallets with BlockNative integration.</li><li>Progress on Github issues backlog.</li><li>Wording in the interface being reconsidered:  &quot;staking&quot; vs &quot;claiming&quot;. </li><li>Researching different UIs for different treasury types.</li></ul><p><strong>Help wanted:</strong></p><ul><li>Backlog at <a href="https://github.com/jbx-protocol/juice-juicehouse/issues" target="_blank" rel="noopener noreferrer">https://github.com/jbx-protocol/juice-juicehouse/issues</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dao-relations">DAO relations<a class="hash-link" href="#dao-relations" title="Direct link to heading">​</a></h3><p><em>Goal: Work towards making sure JB projects and the JB community have the resources and attention they need to get started and thrive.</em></p><p><em>Current team: nati (lead), jango, nicholas, mieos, zeugh</em></p><p><strong>Updates:</strong></p><ul><li>Gitbook updates underway. Walkthrough, explanation of processes. </li><li>Working with Whiteboard crypto, UltraDao, BeatsDao.</li><li>Focusing on established DAOs. Might refocus to newer DAOs later.</li><li>People should forward questions from #support and from other JB projects to Nati to aggregate into docs.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="analytics">Analytics<a class="hash-link" href="#analytics" title="Direct link to heading">​</a></h3><p><em>Goal: Give projects rich insights into their community treasury.</em></p><p><em>Current team: peri (lead), buradorii</em></p><p><strong>Updates:</strong></p><ul><li>Most updated in the UI under the &quot;Web experience&quot; focus.</li><li>Experimenting with what data can be accessible in the UI.</li><li>No updates on Flipside or Dune analytics.</li><li>People want to see current token holders for each projects.</li><li>People want to see current FC vs upcoming FC.</li><li>People want to see the price the treasury token is being sold at over time.</li><li>People want to see the percent of the tokens that they will own at the time of making payments.</li><li>People want to be able to play out funding cycle scenarios before making reconfigurations.</li></ul><p><strong>Open to help:</strong></p><ul><li>Index more Subgraph events.</li><li>Display discount rates (tokens/ETH) of past funding cycles.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="liquidity-pools">Liquidity pools<a class="hash-link" href="#liquidity-pools" title="Direct link to heading">​</a></h3><p><em>Goal: Add support for JB treasury tokens in secondary markets for communities to be able to value their assets better.</em></p><p><em>Current team: exekias (lead), jango</em></p><p>Updates:</p><ul><li>Experimenting with Synthetix <a href="https://github.com/Synthetixio/synthetix/blob/develop/contracts/StakingRewards.sol" target="_blank" rel="noopener noreferrer">staking rewards contracts</a>: <a href="https://github.com/jbx-protocol/staking-rewards" target="_blank" rel="noopener noreferrer">https://github.com/jbx-protocol/staking-rewards</a>.</li><li>Fleshing out UI prototypes:</li></ul><p><img loading="lazy" src="/assets/images/image-3-96cf0c75909ee0b2e5fa2e559e4799bc.png" width="1074" height="1082" class="img_ev3q">
<strong>Help wanted:</strong></p><ul><li>Comms with JBX project owners (e.g., SHARK) to understand their needs from a staking reward/LP perspective.</li><li>Devs with staking rewards expertise.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nft-marketplace">NFT Marketplace<a class="hash-link" href="#nft-marketplace" title="Direct link to heading">​</a></h3><p><em>Goal: Give JB projects a place to sell digital (and eventually physical) goods which pipe percentages of revenue to any number of addresses or Juicebox treasuries.</em></p><p><em>Current team: nicholas (lead), jango, peri</em></p><p><strong>Updates:</strong></p><ul><li>Big demand from SharkDAO (and others?).</li><li>Draft of contract looking good.</li><li>Plan for V1 is no UI on juicebox.money, make bare bones JS SDK/library with/for Shark to build a NFT MKT into their forthcoming website. </li><li>Need to finalize what will be included in v1, and what won&#x27;t.</li><li><a href="https://hackmd.io/QIzjphTdQjKpb-JYOS_Viw" target="_blank" rel="noopener noreferrer">Specification draft</a></li><li><a href="https://github.com/jbx-protocol/juice-NFTMKT" target="_blank" rel="noopener noreferrer">Github repo</a> (private for now)</li></ul><p><strong>Goals:</strong></p><ul><li>Finalize spec for v1</li><li>Get a working v0 implementation on Rinkeby by Monday 2021-09-13 EOD</li><li>Get a basic 721 contract together to mint NFTs that we can submit to the marketplace</li></ul><p><strong>Help needed:</strong></p><ul><li>Jango will help with contract implementation and testing (thank you –nicholas)</li><li>Next week open to help starting building a JS SDK</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="governance">Governance<a class="hash-link" href="#governance" title="Direct link to heading">​</a></h3><p><em>Goal: Plan out how we will make decisions together.</em></p><p><em>Current team: zheug (lead), unicornio, 9birdy9</em></p><p><strong>Updates:</strong></p><ul><li>Trying coordinape to test a reputation system. The epoch system feels good, didn&#x27;t give us the easy integration to voting that we needed after the epoch. </li><li>We&#x27;re still wroking on our basic model for how to make decisions. Need to balance governance power between token holders and reputation/contributions but we haven&#x27;t got a way to test it yet.</li><li>We can, at the moment, take the csv of reputation distributed after the Epoch, but are still looking on how to import those in a strategy to snapshot.
Need help from more dev oriented folks to communicate coordinape results onto snapshot.</li></ul><p><strong>Help needed:</strong></p><ul><li>We need some dev/snapshot help to integrate our new governance system into a snapshot strategy.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="protocol-upgrades">Protocol upgrades<a class="hash-link" href="#protocol-upgrades" title="Direct link to heading">​</a></h3><p><em>Goal: Evolve the protocol to be more useful.</em></p><p>C<em>urrent team: jango (lead), peri, exekias, nicholas</em></p><p><strong>Updates:</strong></p><ul><li>V2 has been announced <a href="/blog/juicebox-v2/">here</a>.</li><li>Reviewed V2 with Peri, Exekias, and Nicholas, got very valuable feedback that is being iterated on.</li><li>Docs for V2 are in progress <a href="https://docs.juicebox.money/overview" target="_blank" rel="noopener noreferrer">here</a>.</li></ul><p><strong>Help needed:</strong></p><ul><li>Same as in the &quot;Risk mitigation&quot; section.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="materials">Materials<a class="hash-link" href="#materials" title="Direct link to heading">​</a></h3><p><em>Goal: Vi</em>deos/visuals/memes/stuff that radiates Juicebox vibes.</p><p>C<em>urrent team: WAGMI studios</em></p><p><em>This is a new section that will have updates next time</em></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/dao">dao</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/juicebox-v2">JuiceboxV2 Protocol</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-03T00:00:00.000Z" itemprop="datePublished">September 3, 2021</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="current-state-of-things">Current state of things<a class="hash-link" href="#current-state-of-things" title="Direct link to heading">​</a></h2><p>First thing&#x27;s first: a huge thank you to everyone who has played with the first version of the Juicebox protocol over the past month. You&#x27;ve taken a leap of faith on a very experimental and untested set of contracts and user experiences with the hopes that it would help you smoothly realize your vision. The protocol has helped a number of projects bootstrap their treasury and community, and these communities have in turn helped Juicebox root into the fertile soil that is the Ethereum social layer.</p><p>I&#x27;ve been observing how each project has been interacting with the protocol. I&#x27;ve been a part of exciting discussions where JB was a total enabler of ideas and creativity, and also ones where I&#x27;ve unfortunately had to be the bearer of bad news that the protocol doesn&#x27;t support the wild thought being proposed. I&#x27;ve seen people spin up projects and raise hundreds of ETH in hours, and seen people give up on the first screen because the &quot;button&quot; they were trying to click wasn&#x27;t actually a button. After only a few weeks of action I have a sense of what&#x27;s working, and I&#x27;ve got a laundry list of what could be better.</p><p>The goal is to steadily improve things over time. At the base contract layer however, progress must made in big leaps initially with the goal of eventually reaching a steady state as innovation moves to subsequent application layers. JuiceboxV2 is the first big leap. Its goal is simple: to enable more creativity, and remove all points of friction.</p><p>JuiceboxV1 was designed with the assumption that communities and project owners have adverse incentives. By using Juicebox, a project owner was committing to particular constraints so that their community could confidently embrace the finances of the game being proposed. Project owners could not mint or burn tokens at will, project owners could not dictate how many tokens were minted per ETH contributed, project owners could not limit who participated in a crowdfund, and project owners did not have a pause button.</p><p>Turns out this was a bad assumption to roll with at the base protocol layer. If a community and its owners are one and the same, flexibility is a requirement for total creative expression. It turns out that communities almost always crave a custom treasury strategy that fits their ethos and proposes a game that differentiates them from others. </p><p>Projects don&#x27;t usually have the engineering resources to build, test, and verify such solutions though. This has been a core value Juicebox has provided for people, along with a simple and powerful UI for community members to join in through and follow along with. So far, the frictions that Juicebox removes has justified the treasury strategy constraints that it introduces. </p><p>Let&#x27;s see if we can now do even better.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="proposed-changes">Proposed changes<a class="hash-link" href="#proposed-changes" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bring-your-own-mintburn-strategy">Bring your own mint/burn strategy<a class="hash-link" href="#bring-your-own-mintburn-strategy" title="Direct link to heading">​</a></h3><p>You&#x27;ll now be able to bring your own contracts that outline the game you want to propose to your community. You&#x27;ll be able to plug and play with already-written strategies, or write your own custom one that fulfills your wildest ideas.</p><p>Writing a strategy can be simple, or as complex as you want. All that is required is providing a contract that adheres to <a href="https://github.com/jbx-protocol/juice-juicehouse/blob/version/2/packages/hardhat/contracts/interfaces/IFundingCycleDataSource.sol" target="_blank" rel="noopener noreferrer">the <code>IFundingCycleDataSource</code> interface</a>. You&#x27;ll be able to provide a strategy that decides what happens when someone makes a payment to your project, as well as one for when someone redeems their treasury tokens. </p><p>Here&#x27;s how writing a strategy around a payment works:</p><p>You can add a data source contract as a parameter to a funding cycle. Your data source must provide a function that implements the following function specification.</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">payData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">address</span><span class="token plain"> _payer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> _amount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> _baseWeight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> _reservedRate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">address</span><span class="token plain"> _beneficiary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">calldata</span><span class="token plain"> _memo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">external</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">calldata</span><span class="token plain"> memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        IPayDelegate delegate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The function receives a handful of parameters from the Juicebox protocol, and is expected to return a handful of parameters back. </p><p><strong>Inputs:</strong></p><ul><li><code>_payer</code> is the address that issued the ETH payment.</li><li><code>_amount</code> is the amount of the ETH payment received.</li><li><code>_baseWeight</code> is the weight of the funding cycle during which the payment is being made. This weight is determined by multiplying the previous cycle&#x27;s weight by the previous cycle&#x27;s discount rate. Each project&#x27;s first funding cycle&#x27;s weight is 10^24. </li><li><code>_reservedRate</code> is the reserved rate of the funding cycle during which the payment is being made. This percent is out of 200. </li><li><code>_beneficiary</code> is the address that the payer has specified to receive the resulting treasury tokens. </li><li><code>_memo</code> is the note that the payer has included in the payment.</li></ul><p><strong>Outputs:</strong></p><ul><li><p><code>weight</code> is the weight that the Juicebox protocol should use when minting treasury tokens. The total tokens minted will be <code>amount</code> * <code>weight</code>, where both variables are assumed to have 18 decimal places. Out of these minted tokens, some will be allocated to the <code>_beneficiary</code>, and the rest will be reserved to be distributed to the reserved token recipients according to the <code>_reservedRate</code>.</p></li><li><p><code>memo</code> is the memo to include with the protocol event that will be emitted as a result of the payment. </p></li><li><p><code>delegate</code> is the address of a contract that adheres to the <a href="https://github.com/jbx-protocol/juice-juicehouse/blob/version/2/packages/hardhat/contracts/interfaces/IPayDelegate.sol" target="_blank" rel="noopener noreferrer"><code>IPaymentDelegate</code> interface</a>. If a <code>delegate</code> is provided, it will receive a callback from the Juicebox protocol once it has fully processed the payment. You can return the zero address if you don&#x27;t need this functionality. The callback your delegate contract should implement is as follows:</p><p>  function didPay(
address _payer,
uint256 _amount,
uint256 _weight,
uint256 _count,
address _beneficiary,
string calldata memo
) external;</p></li><li><p><code>_payer</code> is the same as the one <em>passed in</em> to your data source.</p></li><li><p><code>_amount</code> is the same as the one <em>passed in</em> to your data source.</p></li><li><p><code>_weight</code> is the same as the one <em>returned from</em> your data source.</p></li><li><p><code>_count</code> is the number of tokens that were minted for the <code>_beneficiary</code>.</p></li><li><p><code>_beneficiary</code> is the same as the one <em>passed in</em> to your data source.</p></li><li><p><code>_memo</code> is the same as the one <em>returned from</em> your data source.</p></li></ul><p>The <code>recordPayment</code> function where all of these pieces come together can be found <a href="https://github.com/jbx-protocol/juice-juicehouse/blob/a668f03cd926bc4b0afdf35aa2d6e73a566b5d48/packages/hardhat/contracts/TerminalV2DataLayer.sol#L582" target="_blank" rel="noopener noreferrer">here</a>.</p><p>A data source and delegate can similarly be provided to your funding cycle that&#x27;ll shape the <code>recordRedemption</code> function:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">redeemData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">address</span><span class="token plain"> _holder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> _count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> _redemptionRate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> _ballotRedemptionRate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">address</span><span class="token plain"> _beneficiary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">calldata</span><span class="token plain"> _memo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">external</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> amount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">calldata</span><span class="token plain"> memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        IRedeemDelegate delegate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Inputs:</strong></p><ul><li><code>_holder</code> is the token holder that is redeeming.</li><li><code>_count</code> is the number of tokens being redeemed.</li><li><code>_redemptionRate</code> is the redemption rate of the funding cycle during which the redemption is being made.</li><li><code>_ballotRedemptionRate</code> is the redemption rate that should be used if the project currently has an active funding cycle reconfiguration ballot.</li><li><code>_beneficiary</code> is the address that the redeemer has specified to claim the treasury ETH as a result of redeeming tokens.</li><li><code>_memo</code> is the note that the redeemer has included in the redemption.</li></ul><p><strong>Outputs:</strong></p><ul><li><p><code>amount</code> is the amount of ETH that should be sent from your treasury to the <code>_beneficiary</code> as a result of redeeming/burning <code>_count</code> tokens.</p></li><li><p><code>memo</code> is the memo to include with the protocol event that will be emitted as a result of the redemption. </p></li><li><p><code>delegate</code> is the address of a contract that adheres to the <a href="https://github.com/jbx-protocol/juice-juicehouse/blob/version/2/packages/hardhat/contracts/interfaces/IRedemptionDelegate.sol" target="_blank" rel="noopener noreferrer"><code>IRedemptionDelegate</code> interface</a>. If a <code>delegate</code> is provided, it will receive a callback from the Juicebox protocol once it has fully processed the redemption, but before the <code>amount</code> is dispersed to the <code>_beneficiary</code>. You can return the zero address if you don&#x27;t want this functionality.  The callback your delegate contract should implement is as follows:</p><p>  function didRedeem(
address _holder,
uint256 _count,
uint256 _amount,
address _beneficiary,
string calldata memo
) external</p></li><li><p><code>_holder</code> is the same as the one <em>passed in</em> to your data source.</p></li><li><p><code>_count</code> is the same as the one <em>passed in</em> to your data source.</p></li><li><p><code>_amount</code> is the same as the one <em>returned from</em> your data source.</p></li><li><p><code>_beneficiary</code> is the same as the one <em>passed in</em> to your data source.</p></li><li><p><code>_memo</code> is the same as the one <em>returned from</em> your data source.</p></li></ul><p>The <code>recordRedemption</code> function where all of these pieces come together can be found <a href="https://github.com/jbx-protocol/juice-juicehouse/blob/2c4a549d22dbcbce393672157636a75fe0e29b45/packages/hardhat/contracts/TerminalV2DataLayer.sol#L821" target="_blank" rel="noopener noreferrer">here</a>.</p><p>With these new tools projects can roll out all kinds of treasury strategies, such as:</p><ul><li>restricting payments to only certain addresses.</li><li>restricting payments to only addresses that hold certain other assets.</li><li>offering different levels of  community membership depending on the state of the blockchain.</li><li>restricting payments to be within min/max payment amounts.</li><li>creating time weighted rewards.</li><li>restricting the max supply of community tokens.</li><li>customizing the amount of treasury tokens distributed per ETH received.</li><li>minting NFTs for new members.</li></ul><p>...or any combination of any of these, alongside any other rule you can express contractually.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overflow-allowance">Overflow allowance<a class="hash-link" href="#overflow-allowance" title="Direct link to heading">​</a></h3><p>Previously, a project could only access funds within its specified funding cycle target. All overflowed treasury funds over this target was only accessibly by treasury token holders.</p><p>Now, alongside specifying your funding cycle&#x27;s target, you can specify an amount that you can use from your project&#x27;s overflow on demand. </p><p>This is useful for allocating treasury funds for on-off use cases like bug-bounties, one-time contributions, audits, NFT bids, etc.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-mintburn">Open mint/burn<a class="hash-link" href="#open-mintburn" title="Direct link to heading">​</a></h3><p>Previously, you could only mint tokens before receiving your first payment, and burning was only done through the redemption mechanism. All other tickets were distributed purely through the payment process according to funding cycle weights that decreased according to your configured discount rates over time.</p><p>You can now mint and allocate new treasury tokens at will. All token holders also now have the option to burn their tokens, for whatever reason.</p><p>This gives projects more flexibility to design their tokenomics the way they want, while also having an auto-distribution mechanism through Juicebox&#x27;s flexible built-in payment mechanism alongside.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reserved-token-distribution-endpoints">Reserved token distribution endpoints<a class="hash-link" href="#reserved-token-distribution-endpoints" title="Direct link to heading">​</a></h3><p>Previously, payout splits could be directed at Ethereum addresses, other Juicebox projects, and arbitrary contracts that inherit from a common interface. Reserved tokens could only go to Ethereum addresses.</p><p>Now, reserved token distributions can also be pointed at Ethereum addresses, the owner of other Juicebox projects, and arbitrary contracts that inherit from <a href="https://github.com/jbx-protocol/juice-juicehouse/blob/version/2/packages/hardhat/contracts/interfaces/ISplitAllocator.sol" target="_blank" rel="noopener noreferrer">this common interface</a>.</p><p>This is useful to allow for more composable token distributions. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pay-withdraw-and-redeem-can-all-be-paused">Pay, withdraw, and redeem can all be paused.<a class="hash-link" href="#pay-withdraw-and-redeem-can-all-be-paused" title="Direct link to heading">​</a></h3><p>Previously, projects had not quick way to pause community interactions with its treasury.</p><p>Now, projects are able to individually pause function calls to pay, withdraw funds, and redeem tokens. These controls are configured into each funding cycle.</p><p>This gives projects quick levers to use to achieve certain treasury effects. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adjustable-fee">Adjustable fee<a class="hash-link" href="#adjustable-fee" title="Direct link to heading">​</a></h3><p>Previously, all projects paid a 5% fee from payouts. </p><p>Now, projects will pay at maximum a 5% fee that is adjustable by the JuiceboxDAO. There is also a ceiling fee price that is adjustable by the JuiceboxDAO.</p><p>This helps the JuiceboxDAO accommodate more projects and experiments into its ecosystem.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h3><p>JuiceboxV2 introduces a suite of tools that allow for wild new treasury strategies. What remains constant from V1 is the fact that configurations are locked into funding cycles – if a project runs on 30 day funding cycles, they can specify creative dynamics into the funding cycle, but once the cycle begins changes can&#x27;t be made until the following one. Also like V1, projects that opt for no duration are choosing the flexibility to make any change on demand. </p><p>The <a href="https://github.com/jbx-protocol/juice-juicehouse/tree/version/2/packages/hardhat/contracts" target="_blank" rel="noopener noreferrer">implementation of the new contracts</a> is done, we&#x27;ve just now got to document, test, and audit everything. All code is public, as will be all documentation and conversation around this upgrade. </p><p>We need eyes and scrutiny. Please don&#x27;t hesitate to take a look and help pick things apart. If you plan on spending time on this, please reach out to the DAO in <a href="https://discord.gg/vwdZrUZb8r" target="_blank" rel="noopener noreferrer">our discord</a> and introduce yourself so we can make sure you&#x27;re rightly compensated for your work.</p><p>All projects currently running on Juicebox will be able to seamlessly migrate their treasury to V2. </p><p>LFG.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/protocol">protocol</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/juicebox-funding-cycle-4-proposal">Juicebox: Project update and FC4 proposal</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-08-29T00:00:00.000Z" itemprop="datePublished">August 29, 2021</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Only a few minor changes are needed for Funding Cycle #4. All of the focus areas remain the same, with the addition of one new area for &quot;Protocol upgrades&quot;. Updates to each are outlined below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="focus">Focus<a class="hash-link" href="#focus" title="Direct link to heading">​</a></h2><p>As a DAO, we should continue focusing on the following areas:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="risk-mitigation">Risk mitigation<a class="hash-link" href="#risk-mitigation" title="Direct link to heading">​</a></h3><p><em>Goal: Make sure things don&#x27;t go to zero. </em></p><p><em>Current team: jango (lead), exekias</em></p><p>Updates: </p><ul><li>One low severity bug was discovered, an explanation of what happened can be found <a href="/blog/juicebox-postmortem-of-low-severity-bug-discovered-8-18-2021/">here</a>, and a postmortem is available <a href="https://github.com/jbx-protocol/juice-security/blob/main/incidents/08-18-2021.md" target="_blank" rel="noopener noreferrer">here</a>.</li><li>We&#x27;re underway with a baseline audit being performed by DeFiYield.</li><li>We still need to outline a bug bounty program with associated rewards for discovered vulnerabilities of varying severities.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ux-improvements">UX improvements<a class="hash-link" href="#ux-improvements" title="Direct link to heading">​</a></h3><p><em>Goal: Improve and make templates for project onboarding and the project dashboard.</em></p><p><em>Current team: peri (lead), jango, exekias</em></p><p>Updates:</p><ul><li>Added Web3 connect support for various other wallets using blocknative. <a href="https://github.com/jbx-protocol/juice-juicehouse/pull/105" target="_blank" rel="noopener noreferrer">See this PR</a>.</li><li>Updated the &quot;Projects&quot; page of the site to be sortable by &quot;Total earned&quot;.</li><li>Added a data feed to each project feed to view total amount of ETH contributed by each address.</li><li>Several bug fixes.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-support-education--docs">Project support, education, &amp; docs<a class="hash-link" href="#project-support-education--docs" title="Direct link to heading">​</a></h3><p><em>Goal: Make sure JB projects have the resources they need to get started and thrive. </em></p><p><em>Current team: jango (lead), natimuril, WAGMI Studios, CanuDAO</em></p><p>Updates:</p><ul><li>Helped SharkDAO launch an AMM pool for their treasury token.</li><li>Several conversations with projects that are interested in building their treasury using Juicebox. Actively workshopping solutions for <a href="https://twitter.com/scribedao" target="_blank" rel="noopener noreferrer">ScribeDAO</a> and <a href="https://phlote.xyz/" target="_blank" rel="noopener noreferrer">Phlote</a>, with <a href="https://twitter.com/FingerprintsDAO" target="_blank" rel="noopener noreferrer">FingerprintsDAO</a>, $Loot, and a project by <a href="https://twitter.com/NiftyTabIe" target="_blank" rel="noopener noreferrer">NiftyTable</a> also on the radar.</li><li>No significant updates on tech or process documentation. We need to make progress here as we continue to understand the materials that projects and contributors need to be successful.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="analytics">Analytics<a class="hash-link" href="#analytics" title="Direct link to heading">​</a></h3><p><em>Goal: Give projects rich insights into their community treasury.</em></p><p><em>Current team: peri (lead), buradorii</em></p><p>Updates:</p><ul><li>A new data feed that shows how much each address has contributed to each project has been added to each project page on <a href="https://juicebox.money" target="_blank" rel="noopener noreferrer">juicebox.money</a>.</li><li>Progress has been made on charts that show a project&#x27;s P&amp;L using Flipside analytics tool.</li><li>We have yet to deliver a data dashboard to projects. We&#x27;re still working towards this end.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="liquidity-pools">Liquidity pools<a class="hash-link" href="#liquidity-pools" title="Direct link to heading">​</a></h3><p><em>Goal: Add support for JB treasury tokens in secondary markets.</em></p><p><em>Current team: exekias (lead), jango</em></p><p>Updates:</p><ul><li>SharkDAO&#x27;s SHARK token has been pooled with ETH on Sushiswap, you can see the analytics <a href="https://analytics.sushi.com/tokens/0x232afce9f1b3aae7cb408e482e847250843db931" target="_blank" rel="noopener noreferrer">here</a>. SharkDAO&#x27;s Juicebox page was closed during this transition, with plans to reopen in the coming days. </li><li>Research is underway to provide a staking contract to projects where LP rewards can be distributed.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="marketplace">Marketplace<a class="hash-link" href="#marketplace" title="Direct link to heading">​</a></h3><p><em>Goal: Give JB projects a place to sell digital goods (and physical?) which pipe percentages of revenue to any number of addresses and Juicebox treasuries.</em></p><ul><li>Current team: nicholas (lead), jango, peri*</li></ul><p>Updates:</p><ul><li>Researched how other protocols are doing split payments.</li><li>Finalized the user journeys that we&#x27;re trying to solve.</li><li>Begun workshopping how the contracts should be architected.</li><li>Begun ideating on what the UX should be.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="governance">Governance<a class="hash-link" href="#governance" title="Direct link to heading">​</a></h3><p><em>Goal: Plan out how we will make decisions together.</em></p><p><em>Current team: zheug (lead), unicornio</em></p><p>Updates:</p><ul><li>Created a process schema to follow when making proposals, voting on them, and conveying the decision on-chain.</li><li>Created a Coordinape page where we can experiment with reputation assignment.</li><li>Governance meetings are beginning to happen regularly on Tuesdays.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="protocol-upgrades-">Protocol upgrades  <a class="hash-link" href="#protocol-upgrades-" title="Direct link to heading">​</a></h3><p><em>Goal: Evolve the protocol to be more useful and remove friction from the treasury management process. </em></p><p>C<em>urrent team: jango (lead), exekias, peri, nicholas</em></p><p>Updates:</p><ul><li>A TerminalV2 contract is well underway. This update will allow projects to customize their treasury strategy entirely. Details tbd, implementation and ongoing tests can be found <a href="https://github.com/jbx-protocol/juice-juicehouse/tree/version/2" target="_blank" rel="noopener noreferrer">here</a>.</li><li>TerminalV2 will patches an edge case bug found, mentioned earlier under  &quot;Risk mitigation&quot;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="my-proposal-for-fc4">My proposal for FC4:<a class="hash-link" href="#my-proposal-for-fc4" title="Direct link to heading">​</a></h3><p><strong>Duration:</strong> 14 days (no change)</p><p><strong>Ballot:</strong> 3 day delay (changed from 7 day)
A reconfiguration proposal must be submitted 3 days before the end of the current funding cycle. Reconfiguration decisions are feelings a little rushed. Changing the ballot delay from 7-days to 3-days gives us a bit more time than what we currently have for evaluating proposals and conveying changes on-chain.</p><p><strong>Discount rate:</strong> 10%
The discount rate should continue to compound at 10% to reward contributors who continue to fund the JuiceboxDAO treasury at this risky stage.</p><p><strong>Bonding curve:</strong> 60% (+-0%)
No need to change this. Still arbitrary, but there&#x27;s no demand to redeem right now, so might as well keep it this tight as we adjust the discount rate.</p><p><strong>Payouts: </strong>$33.5k total </p><p>I propose we pay exekias, nicholas, nati, and buradorii slightly more. </p><p><strong>Core contributors</strong></p><ul><li><strong>jango </strong>| <em>dev: $10k (no change)</em></li><li><strong>peripheralist </strong>| <em>dev : $10k (no change)</em></li><li><strong>CanuDAO </strong>|<em>comms:$2.5k (no change)</em></li><li><strong>WAGMI Studios </strong>| <em>art, animations, and educational content: $2.5k </em>(no change)</li><li><strong>exekias </strong>| <em>dev: $4k (+ $1k)</em>
Exekias has bee hands on with all aspects of the code. Increasingly becoming an integral part of the core dev staff.</li></ul><p><strong>Experimental contributors</strong></p><ul><li><strong>nicholas</strong> | <em>dev: $2k (+ $500)</em>
Nicholas has begun writing code, he&#x27;s been an active voice in our community, and he&#x27;s helping to progress pivotal discussions forward.</li><li><strong>nati </strong>| <em>community relations</em>: $1k (+$500)
Nati has begun onboarding DAOs onto Juicebox and is also helping progress pivotal discussions forward.</li><li><strong>Buradorii</strong> | <em>analytics: $1k </em>(+$500)
Buradorii has begun publishing Flipside data dashboards. We&#x27;ve yet to aggregate charts and deliver them to projects.</li></ul><p><strong>Allocations</strong></p><ul><li><strong>Figma</strong>, <strong>Infura</strong>, <strong>Gitbook</strong>, <strong>Mee6</strong> &amp; <strong>Fleek subscriptions</strong> | $500</li></ul><p><strong>Reserved rate:</strong> 35% (No change)
We should continue to allocate 25% to core contributors, and reserve 10% for ETH/JBX liquidity provider incentives (soon).</p><p><strong>Reserved token distribution:</strong></p><ul><li><strong>jango: </strong>35%</li><li><strong>peripheralist:</strong> 35%</li><li><strong>CanuDAO:</strong> 10%</li><li><strong>WAGMI Studios:</strong> 10%</li><li><strong>exekias</strong>: 7.5%</li><li><strong>misc:</strong> 2.5% - for on-demand incentives paid out by the multisig wallet.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/governance">governance</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/dao">dao</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/adding-juicebox-treasury-tokens-to-amms">Juicebox V2: Protocol adjustments useful for adding treasury tokens to AMMs</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-08-23T00:00:00.000Z" itemprop="datePublished">August 23, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>SharkDAO, the project using the Juicebox protocol that is moving quickest and most likely to break things, has quickly proven the need for pooling its Juicebox treasury tokens into AMMs to provide organic price discovery for its token holders. Most Juicebox projects who reach scale will likely also come across this need.</p><p>The value of SHARK is derived not only from its ETH stored in the Juicebox contracts, but also from the NFTs the DAO has deployed treasury funds to acquire, from the JBX that the DAO has begun accumulating by paying platform fees, and perhaps most importantly from the productive community forming within the project that gives it boundless potential moving forward. The prospective value of each of these assets is dynamic and subject to each individuals&#x27; confidence and risk appetite. This calls for a more fluid market making and order filling strategy than what the Juicebox protocol has provided until now.</p><p>Juicebox provides SHARK holders an effective way to fundraise and expand, but it doesn&#x27;t yet provide a way for holders to coordinate a value for what they already own – this is the strength of AMMs. SharkDAO needs both of these features well into the future. If Juicebox wishes to be the go-to treasury protocol for startup projects who scale, it needs to understand how the current mechanic behaves alongside a treasury token liquidity pool, and which protocol adjustments are needed to smooth out any identified market inefficiencies over time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="current-limitations">Current limitations<a class="hash-link" href="#current-limitations" title="Direct link to heading">​</a></h3><p>Currently, Juicebox treasuries have no configurable max-supply of tokens. The protocol always offers people an opportunity to pitch in ETH and receive treasury tokens in return according to the current funding cycle&#x27;s weight, which is determined by the compounding effects of discount rates alongside the currently configured reserve rate.</p><p>As a reminder, the discount rate decreases the amount of tokens minted per ETH contributed as funding cycle&#x27;s roll over – a discount rate of 10% to the current funding cycle means that a contribution of X ETH to the next funding cycle will only yield 90% of the tokens that the same contribution of X ETH made during the current funding cycle would yield. The reserve rate determines how many of these tokens will be reserved to be distributed to preprogrammed addresses instead of to the payer.</p><p>The protocol is thus always quoting a value for a project&#x27;s treasury tokens, and inso doing always offering to inflate the supply of tokens to meet this demand in exchange for crowdfunding more ETH. It is thus unrealistic to expect the market price of treasury tokens on an AMM to ever exceed the price quoted by the protocol – the protocol will always provide a price ceiling. If the secondary market is over, there is an obvious arbitrage opportunity to pull the price back down.</p><p>There may, however, be people who received treasury tokens at a discount in the past who are now willing to sell them for profit at a better price than what the protocol is offering. This supply-side pressure happens organically as funding cycles unfold and discount rates compound. On the buy-side, it&#x27;s logical for someone to seek a better deal for treasury tokens from this secondary market than get them from the protocol. If the majority of activity is happening on secondaries beneath the protocol price, the token supply and fundraising efforts will tapper off at this equilibrium.</p><p>The big question thus becomes how a project chooses to pursue this equilibrium. Does it tune its discount rate and reserve rate over time with its own fairness principles in mind, using secondary markets as a convenience for buyers and sellers but limiting the market&#x27;s potential to naturally discover its price&#x27;s upper bound? Or does it use the secondary market as a primary indicator of fairness, using the discount rate and reserved rate only to conveniently satisfy its fundraising needs over time? The answer depends on a community’s values. Does it wish to be liberally open, inclusive, and predictable while prioritizing cashflow? Or instead more-strictly protective of the value current members have accrued and took risks for, with strategic fundraising/expansion campaigns down the road that are scoped for value-adding initiatives? Maybe a balance between the two, with principles in place to guide decisions?</p><p>The Juicebox toolset has proven to work well for projects who are willing to expand supply to accommodate new funds and new community members. For projects that want to protect the value they have built and conduct more strategic and scoped fundraising campaigns over time, the compounding discount rate and reserved rate mechanisms might not work well within the current protocol&#x27;s constraints.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solutions">Solutions<a class="hash-link" href="#solutions" title="Direct link to heading">​</a></h3><p>The solution might be simple.</p><p>For the Juicebox protocol to be able to accommodate market driven projects, it must allow them to:</p><ul><li>specify a supply cap for their treasury token, and </li><li>allow them to customize the quantity of treasury tokens that are distributed per ETH received. </li></ul><p>Under these conditions, if payments are received into the treasury after the token supply cap is exceeded, no tokens will be minted in return. Otherwise, if the project has set a customized treasury token price point, tokens will be minted according to this rate overriding the current funding cycle&#x27;s weight derived by the compounding discount rates of previous cycles.</p><p>These tools allow a project to essentially &quot;pause&quot; new treasury tokens from being issued, and at any point open up a fixed supply of new tokens to distribute at a specified price point. The reserved rate as it currently exists can work within this pattern to route newly issued tokens to time-bounded distribution mechanisms, incentivized staking pools, the project&#x27;s own multi-sig wallet, etc.</p><p>Adding these parameters does put more power into the hands of the project owner, which is a tradeoff worth noting. People who contributed funds earlier in a project&#x27;s lifetime will no longer have guarantees that their tokens were issued at a discount compared to the future cycles, and protocol rates are subject to change as dramatically as the project owner desires. Communities must make extra sure that the ownership of their project (represented by an ERC-721 contract) is in the hands of a trustworthy wallet willing to execute decisions collectively agreed upon. I&#x27;m not too worried about this tradeoff because it is already true to large extent in the current implementation.</p><p>Another tradeoff of a token supply cap is that it risks the consistency of DAO-to-DAO and Anon-to-DAO collaboration. For example, imagine someone stands up an NFT marketplace that automatically routes percentages of artwork sales to preconfigured destinations, like to SharkDAO&#x27;s treasury. If SharkDAO has a token supply cap in place and has reached this limit, the sale of the artwork would still send the ETH to the treasury, but the artist would not receive any SHARK in return. I&#x27;m also not too worried about this tradeoff because the same effect is possible with the current mechanism if a project tunes its reserved rate to 100%. Each project/artist composing with Juicebox treasuries should always understand the variability of doing so – rates are subject to change, and so its important to prioritize building relationships with trustworthy projects who make decisions in the open with proper planning and community engagement. </p><p>Another detail to note: the configuration of both new parameters will be scoped to funding cycle configurations – a project running on timed cycles must await a new cycle for changes to the max-supply and weight override parameters to take effect. Projects with longer funding cycle durations and more rigid reconfiguration ballots will thus continue to operate with more predictability, checks, and balances. Another effect of this is that the actual token supply might be greater than the configured max supply if the project ends up minting more tokens during a current, boundless cycle before a queued one with a max-supply becomes active.</p><p>A proposal is taking shape to implement these two new properties into a TerminalV2 contract within the Juicebox ecosystem. Projects currently running on TerminalV1 will have the option to migrate over once the contract has been deployed and approved.</p><hr><p><a href="https://discord.gg/qckstafRcs" target="_blank" rel="noopener noreferrer">Join the JuiceboxDAO Discord</a> to add to this discussion and provide alternate ideas and points of view before we move forward with rolling out these additions to the protocol.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ecosystem">ecosystem</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/juicebox-postmortem-of-low-severity-bug-discovered-8-18-2021">Juicebox postmortem: Low severity bug discovered 8/18/2021</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-08-19T00:00:00.000Z" itemprop="datePublished">August 19, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1414958948189413395/l89bNR2m_400x400.jpg" alt="Jango"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/me_jango" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jango</span></a></div><small class="avatar__subtitle" itemprop="description">JuiceboxDAO Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>I discovered a low severity bug in the Juicebox protocol last night that affects projects that have received payments while configured with a reserved rate of 0% who later reconfigure the reserved rate to anything greater than 0%.</p><p>A temporary work around has been identified, and a game plan for removing the bug from the system is in the works.</p><p>To mitigate potential exploits before a patch is issued, an exploit breakout team decided to mint 0.5% of total SHARK supply (1,889,066.675747 SHARK) into the multi-sig wallet. This course of action was chosen to prevent further issues. These tokens can be burned if desired.</p><p>What follows is how I discovered the bug, the technical details about it, and what our next steps will be.</p><p><strong>TLDR:**</strong>Until further notice, projects are not advised to set their reserved rate to 0% if they intend to raise their reserved rate in the near future.**</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a class="hash-link" href="#context" title="Direct link to heading">​</a></h2><p>To give them time to plan for for what&#x27;s next, SharkDAO needed a way to pause payments and new members coming in through Juicebox. Juicebox doesn&#x27;t support a <code>pause</code> function in its <a href="https://etherscan.io/address/0xd569D3CCE55b71a8a3f3C418c329A66e5f714431" target="_blank" rel="noopener noreferrer">TerminalV1</a> contract, so Peripheralist and I had to improvise alongside the SharkDAO community.
<img loading="lazy" src="/assets/images/image-d29654ae27cb9fb8a8daeb87c91656b5.png" width="1908" height="640" class="img_ev3q">
First step was to remove the payment form from the UI. This keeps most people from sending in contributions, but someone dedicated to sending a payment would eventually find that the Juicebox contract could still be interacted with directly through other interfaces like Etherscan.</p><p>To even the playing field, I had the idea to raise SharkDAO&#x27;s reserved rate to 100%, meaning all payments coming in through the contract would allocate 100% of minted SHARK tokens to preprogrammed addresses instead of to the paying address. With no SHARK incentive for contributing payments, the community would be disincentivized to pay through back-door means, effectively creating the desired <code>pause</code> functionality. If anyone did send payments, we could easily refund them the money.</p><p>After running this plan by SharkDAO at a Sharktank town hall meeting, we decided to move forward with it. We would allocate any SHARK minted during this paused period to the multi-sig, which could later be burned if needed.</p><p>A few details to note: </p><ul><li>SharkDAO&#x27;s reserved rate has been set to 0% since its start. </li><li>SharkDAO does not use funding cycles with preset durations, meaning changes can be executed on-demand. </li><li>SharkDAO&#x27;s Juicebox project is owned by a Gnosis multi-sig requiring 3/5 signatures. I&#x27;m one of the signatories.</li></ul><p>Right after the call, I got together with multi-sig holders to execute the plan. After one transaction to TerminalV1&#x27;s <code>configure</code> function, the reserved rate was successfully updated. I immediately checked the UI to see if things were in order – thats when I noticed that after having set the reserved rate to 100%, it was now possible to mint and distribute 100% of the current token supply to the preconfigured destination (the multi-sig). Since this distribute transaction is public, anyone who triggered this would effectively double the SHARK supply, and would leave us with unnecessary work after the fact to burn this unintended supply from the multi-sig and communicate the issue to the community.</p><p>I immediately instructed the multi-sig panel to send another <code>configure</code> transaction to TerminalV1 to change the reserved rate back to 0%, and explained that I had to double check something before we could move forward with the plan. This reverted us to the previous state, where payments made to the contract directly would bypass the intended <code>pause</code> that was being communicated in the UI.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical details<a class="hash-link" href="#technical-details" title="Direct link to heading">​</a></h2><p>The root of the problem was fairly obvious to me once I noticed the distributable supply in the UI. Once we were back at a safer state, I began work to confirm my assumptions and test a workaround.</p><p>Many parts of the Juicebox mechanism&#x27;s design are gas optimized, meaning the transactions that are most frequently called are responsible for fewer state changes than those that are infrequently called. The <code>pay</code> transaction is by far the most frequently called, so very few state changes take place within this function: the payment is received, and the resulting amount of treasury tokens are minted to the payer in a staked format.</p><p>Importantly, the reserved token amount is <em>not</em> minted during a payment. Instead, this amount is calculated later when the <code>printReservedTickets</code> transaction is called. It does so by taking the current token total supply and minting an appropriate amount of new tokens to the preconfigured reserved addresses such that the reserved rate is respected. Most importantly, the mechanism then keeps track of the fact that it has minted reserved tokens for the current token supply so that it doesn&#x27;t create extra reserved tokens later. Given perfect information, it is in the economic best interest of the project to wait to call <code>printReservedTickets</code> if the reserved rate is going to increase, and in the community&#x27;s interest to call it before an increase. The opposite is also true. This dynamic allows the protocol to offload a high-gas storage operation from a frequently called <code>pay</code> function onto less frequently called operations.</p><p>Unfortunately, when the reserved rate is 0%, the <code>printReservedTickets</code> call assumes there&#x27;s no work to do, and returns before it has had a chance to update the tracker. This prevents anyone from locking in the rate before it is increased. In the <a href="https://github.com/jbx-protocol/juicehouse/blob/3555d7baf7fa8ba4bc350140201805c740e3df4e/packages/hardhat/contracts/TerminalV1.sol#L968" target="_blank" rel="noopener noreferrer">TerminalV1 file</a>, the solution is literally just putting line 968 below line 977:</p><p><img loading="lazy" src="/assets/images/image-1-528644694da941466960bb9696b7393f.png" width="1870" height="512" class="img_ev3q">Current TerminalV1 implementation of <code>printReservedTickets</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execution">Execution<a class="hash-link" href="#execution" title="Direct link to heading">​</a></h2><p>I immediately proposed two workarounds to the SharkDAO admins:</p><ul><li>Keep the contract open.</li><li>Set the reserved rate to the minimum possible value (0.5%), distribute the allocated reserved tokens to the multi-sig, then move the reserved rate to 100% as intended.</li></ul><p>We decided to go with the second option since we needed to set a fair playing field to community members looking to pay, and we could later burn the relatively small amount of SHARK minted to the multi-sig.</p><p>I then spent a few hours recreating the the original bug in our integration test suite, and wrote an integration test for the proposed solution to confirm it would work as expected (I was making extra sure of everything at this point in the evening.) Once everything was confirmed on my end, I got together with the multi-sig holders to execute the three transactions:</p><ol><li>Change the reserved rate to 0.5%.</li><li>Distribute reserved treasury tokens to the multi-sig. (Anyone can trigger this, so Xaix did it from his personal wallet.)</li><li>Change the reserved rate to 100%.</li></ol><p>The side effect is that 1,889,066.675747 SHARK were minted to the multi-sig. Here&#x27;s a screenshot of what the UI looked like after step 1:</p><p><img loading="lazy" src="/assets/images/Screen-Shot-2021-08-19-at-12.43.52-AM-1-80276cf97948f7bf3b9518bae0600ae8.png" width="1866" height="907" class="img_ev3q"><img loading="lazy" src="/assets/images/Screen-Shot-2021-08-19-at-12.41.21-AM-845d3cdce886e38c2c7d5c7d5b53e685.png" width="944" height="268" class="img_ev3q">
And here&#x27;s what it looks like now:
<img loading="lazy" src="/assets/images/image-2-d312e6ace88d653ee58dd3e01c574e29.png" width="978" height="340" class="img_ev3q">
We got all of this done in about 2.5 hours.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="takeaway">Takeaway<a class="hash-link" href="#takeaway" title="Direct link to heading">​</a></h2><p>Despite having written extensive unit, integration, and load tests, this condition fell through the cracks. I will keep stressing to the community that Juicebox is still experimental software with high risks. I&#x27;m confident in the way it&#x27;s built and am committed to its improvement, but I&#x27;m not going to pretend that it is perfect.</p><p>The good news is that TerminalV1 has a built in mechanism to allow projects to choose to migrate to new terminal contracts that have been approved by JuiceboxDAO&#x27;s governance, so bugs like this can be fixed. </p><p>We are now working around the clock to get a TerminalV1_1 safely set up for migration, and extensively tested.</p><p><strong>In the meantime, projects are not advised to set their reserved rate to 0% if they intend to raise their reserved rate in the near future.</strong></p><p>Next steps:</p><ul><li>Deploy TerminalV1_1 that patches this bug.</li><li>Consider building a version of the Juicebox Terminal contract that supports pausing payments.</li><li>Seek more code reviews and audits, while offering bug bounties to hackers who want to help.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/protocol">protocol</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/page/5"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/7"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div></div>
<script src="/assets/js/runtime~main.1ba0975d.js"></script>
<script src="/assets/js/main.0aae736c.js"></script>
</body>
</html>